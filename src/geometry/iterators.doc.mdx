import { Meta } from '@storybook/blocks';

<Meta title="src/geometry/iterators" />

## translate
`src/geometry/iterators`

**AST Node Type:** *VariableStatement*

#### JSDoc annotations:

A reusable mutation generator which translates all points by a provided point

```bash
@param gen

@param point

@returns
```

#### Code:

```ts
export const translate = (gen: VertexGenerator, point: Point): VertexGenerator => function* () {
    for (const p of gen())
        yield p.add(point);
};

```

## rotate
`src/geometry/iterators`

**AST Node Type:** *VariableStatement*

#### JSDoc annotations:

A resuable mutation generator which rotates all points around a provided center point by a provided angle

```bash
@param gen

@param angle

@param center

@returns
```

#### Code:

```ts
export const rotate = (gen: VertexGenerator, angle: number, center: Point): VertexGenerator => function* () {
    for (const p of gen())
        yield p.rotateAround(center, angle);
};

```

## scale
`src/geometry/iterators`

**AST Node Type:** *VariableStatement*

#### JSDoc annotations:

A reusable mutation generator which scales all points by a 2D scale factor.

```bash
@param gen

@param scaleFactor

@returns
```

#### Code:

```ts
export const scale = (gen: VertexGenerator, scaleFactor: Point): VertexGenerator => function* () {
    for (const p of gen())
        yield p.multiply(scaleFactor);
};

```

## round
`src/geometry/iterators`

**AST Node Type:** *VariableStatement*

#### JSDoc annotations:

Rounds each corner.

```bash
@param gen

@param cornerRadius

@returns
```

#### Code:

```ts
export const round = (gen: VertexGenerator, cornerRadius: number | number[]): VertexGenerator => function* () {
    const generator = gen();
    let cursor = generator.next();
    let a = cursor.value;
    if (cursor.done) {
        yield a;
        return;
    }
    cursor = generator.next();
    let b = cursor.value;
    if (cursor.done) {
        yield a;
        yield b;
        return;
    }
    const first = a;
    const second = b;
    let i = 1;
    for (const [x, y] of generator) {
        const c = new Point(x, y);
        const [s, e] = rounding(b, a, c, cornerRadius, i);
        i++;
        yield new RoundedCorner(s, b, e);
        a = b;
        b = c;
    }
    const [ls, le] = rounding(b, a, first, cornerRadius, i);
    yield new RoundedCorner(ls, b, le);
    const [fs, fe] = rounding(first, b, second, cornerRadius, 0);
    yield new RoundedCorner(fs, first, fe);
};

```

## normalize
`src/geometry/iterators`

**AST Node Type:** *VariableStatement*

#### JSDoc annotations:

Converts the geometry to values between 0 and 1 this is usefule for clipPaths

```bash
@param generator

@param param1

@returns
```

#### Code:

```ts
export const normalize = (generator: VertexGenerator, [min, size]: Rect) => function* () {
    const gen = translate(generator, min.multiplyScalar(-1))();
    for (const p of gen) {
        yield p.divide(size);
    }
};

```

